---
layout: post
title: "加密货币套利现状"
data: 2018-04-03 23:38
comments: true
tags: 套利 加密货币 中文
---

现在谈起加密货币套利，和忽悠别人投资 ICO 一样，似乎已经太晚了（..不过真的还有人在投各种 ICO）。

但仍有两个原因在诱惑着我去尝试加密货币套利：

1. 时不时仍有人提起套利的神话
2. 加密货币大大的降低了普通人参与投资的门槛，研究套利对我来说是个很好的低成本入门方式。

毕竟比起做无用功，我更害怕无感觉的忽略掉身边的机会。

互联网上有很多讲套利的文章，有些浅尝即止，有些作者则更为慷慨的深入了套利的原理和各种方式。
对于加密货币来说，最简单的套利方式是利用各个交易所的差价赚取利润。比如通过观察发现交易所 A 的价格经常会比交易所 B 高，那么我们在两个交易所预先放一些钱，每次观察到 A 的价格高于 B 时就开始套利，比如 A 的比特币为 8000$，而 B 为 7600$，此时立刻在 A 卖出 x 个比特币并在 B 买入等量币，那么我们的获利就是(400*x)$。最后把低价买入的比特币转入 A，并把高价卖出的美元转入 B，这样我们就可以一直循环这个过程。只要中间的手续费小于我们套利的利润，那么我们就可以一直盈利。

套利的原理很简单，只要我们能找到有差价的交易所就可以通过程序执行，稳定赚取差价利润。

我搜索到一些能查询各个交易所差价的[网站](https://www.tokenspread.com/)。发现加密货币交易所的价格呈两极分化，一部分交易所价格较低且差别不大，如：Gdax, Kraken, Bitfinex，还有几个交易所价格明显更高，如：Exmo, Cex, Hitbtc。这个结果对套利者来说非常好！

于是我实现了个简单的模拟套利程序，不断的从不同交易所抓取价格判断差价，并根据当前市场的活跃订单判断套利收益。跑了几天数据，在低价和高价交易所之间经常可以捕获到 2% 甚至 3% 的差价，根据捕获时的买单卖单金额，每一笔可以获得 50 ～ 70 刀的收益（每次最多套利 0.5 ETH）。于是我获得了大笔收益，过上躺着赚钱的日子，把这个方法分享出来希望大家走上共同富裕。

开个玩笑。数据是真的，但我感觉模拟不一定十分可靠，有可能下单慢了没有匹配上，也有可能频繁的套利会缩小预期差价减少收益，还有可能手续费比假设的千分之五要高。
于是我挑选了两家差价不错的交易所开发实际的下单功能。选中了 Kraken 和 Hitbtc，这两家差价稳定，前者币价较低而后者较高，我准备实际的手动交易几次以确保没有意外。我向 Hitbtc 打入了 0.5 ETH(买不起 BTC, 所以使用 ETH)，以略低于最高价的价格成功卖出，并同时在 Kraken 低价买入。非常顺利，成功了获取了 25$ 利润！只要花费一定手续费把低价买入的 ETH 和高价卖出所得的 USDT(一种加密货币，可以认为近似于美元) 互相转帐就可以一直重复这个套利过程！可以宣告套利策略的成功。但人穷天注定，没想到至此我遇到了奔小康之路的第一个障碍，并在接下来障碍连连..我会一个个来分析障碍的原因以及其出现的因果。

在 Hitbtc 和 Kraken 成功套利操作后，我需要让获利的资金流动，把它们互相转到对面的交易所，为下次套利准备子弹。但这时我发现 Hitbtc 点击提现 USDT 会提示提现临时错误。如果无法把 USDT 转回 Kraken，那么就需要持续投入很多美元到 Kraken 才能继续套利，这样的话收益率不是很合算，并且投入很多资金也会有风险。我在网上搜索 Hitbtc 故障的信息结果让我大吃一惊，原来这个“临时错误”从 17 年 12 月开始至今已经存在三个多月了。既然无法提现 USDT，想要从 Hitbtc 全身而退就只能购买其他货币再转出（幸好其他货币可以转出）。这时我发现了猫腻所在，Hitbtc 除了 USDT 外的货币价格都要比其他交易所高，而且不偏不倚恰好是 2% ～ 3%，和我刚开始发现的 ETH 差价几乎一致！原因倒是容易理解，因为 USDT 无法提现，想要转出就必须购买其他币，大量交易者用 USDT 买入其他币种，导致其他币相对 USDT 涨价，这就是 Hitbtc 币价高的原因。

那么试一试另外的高价格交易所：Exmo、Cex 是否可以完成我们的套利？结果仍是不行。转入 ETH 比较简单，但我们需要从 Exmo、Cex 取出 USD/USDT 时发现这两家交易所的提现费率都比较高，这也是这两家交易所高价格的原因，卖家卖币时会考虑高昂的提现手续费并将其包括在价格中。

那我们就无法从交易所套利了吗？是的，套利需要每次套利过程的获利大于消耗的手续费，那么手续费越高也就代表着我们需要捕捉更大的差价才能获利。但往往差价正是因为手续费的不同才形成的，神奇的看不见的手促使卖家们在交易时包含了这部分成本，这部分差价因为固有的手续费用无法被套利者抹平（就像我们的尝试）所以一直存在。

那么如果只追求较小的利润，在差价小的交易所之间套利是否可行？可以，但现今来看在众多套利者参与下，这块利润已经很小了，很可能投入大量本金才能产生一点点利润。并且随着利润的进一步压缩，会有部分套利者放弃参与，这么看这块利润会最终稳定在较低的水平（因为加密货币的套利成本和门槛低）。

这次尝试得出了几个结论：

1. 参与的套利者已经足够多，所以交易所差价逐渐稳定，并且一部分差价无法被套利者抹平，代表这部分差价是在该交易所进行交易的固有成本
2. 按照上面的理论币价较低的交易所手续费比较少，暗坑也会比较少
3. 不排除有其他奏效的套利方式，比如：三角套利，或更复杂的套利策略
